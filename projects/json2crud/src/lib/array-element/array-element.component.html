<mat-accordion class=' w-100 pt-5' (click)="activate()">
  <div class="window">
    <div class="panel">
      <mat-card *ngIf="key" style="z-index: 20px;" class="d-flex flex-center flex-row justify-content-between p-2">
        <div class="  py-2 pl-2"> {{label}} </div> <button title="Add item to the {{key}}" autoClose="outside"
          triggers="manual" #p="ngbPopover" *ngIf="globalConfig.isEditing" [ngbPopover]="popContent"
          [popoverTitle]="popTitle" (click)="open(p)" container="body" placement="left" class="controls mt-0 mb-2 mx-2
          mat-focus-indicator float-right controls mat-raised-button mat-button-base
          add-new">
          + </button>
      </mat-card>

      <div #menu class="p-0 m-0">

      </div>
      <mat-divider></mat-divider>
      <div class="group  ">
        <ng-container #arrayContainer></ng-container>
      </div>
    </div>
  </div>
</mat-accordion>
<ng-template #popTitle>
  <div>Add to {{key}}</div>
</ng-template>
<ng-template #popContent>
  <div class="model">
    <lib-json2crud [loadData]="{node:childrenKeyType}" [config]="configJson" title="Oops 2 New" class="w-100 h-100"
      (save)="addInArray($event)">
    </lib-json2crud>
    <button mat-raised-button (click)="createWindow.close()" *ngIf=" show(config['Reset'])"
      class=" m-2 float-right controls mat-focus-indicator  controls float-right mat-raised-button mat-button-base  ">cancel</button>
  </div>
</ng-template>
